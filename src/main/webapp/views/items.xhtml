<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
<ui:composition template="../layout.xhtml">
    <style type="text/css">
     .value {
        font-weight: bold;
    }

    .ui-carousel {
        margin-bottom: 20px;
    }

    </style>
    <ui:define name="content">
        <div class="ui-g">
            <div class="ui-g-12">
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton id="cartItems" type="button" onclick="PF('cartItemsList').loadContents()"
                                         oncomplete="PF('cartItemsList').show()"
                                         value="Shopping Cart (#{itemList.getCartCount()})"
                                         rendered='#{login.isLogin()}'>
                            <p:overlayPanel id="cartItemsList" for="cartItems" hideEffect="fade" dynamic="true"
                                            style="width:600px" modal="true">
                                <p:dataTable var="cartItem" value="#{itemList.getShoppingCartItems()}" rows="5"
                                             paginator="true">
                                    <p:column headerText="Product">
                                        <h:outputText value="#{cartItem.cartItemId}"/>
                                    </p:column>

                                    <p:column headerText="Directed By">
                                        <h:outputText value="#{cartItem.cartItemId}"/>
                                    </p:column>

                                    <p:column headerText="Genres">
                                        <h:outputText value="#{cartItem.cartItemId}"/>
                                    </p:column>

                                    <p:column headerText="Run Time(min.)">
                                        <h:outputText value="#{cartItem.cartItemId}"/>
                                    </p:column>
                                    <p:commandButton value="Remove"/>
                                </p:dataTable>
                                <p:commandButton value="Buy Items" update="cartItemsList"
                                                 action="#{itemList.buyItems()}"/>
                            </p:overlayPanel>
                        </p:commandButton>
                    </f:facet>
                </p:toolbar>
            </div>
            <div class="ui-g-12">
                <ui:insert name="content"/>
            </div>
        </div>
        <h:form id="form">
            <p:carousel value="#{itemList.loadData()}" headerText="Responsive" var="product"
                        itemStyle="text-align:center" responsive="true">
                <p:panelGrid columns="2" style="width:100%;margin:10px 0px" columnClasses="label,value" layout="grid"
                             styleClass="ui-panelgrid-blank">
                    <f:facet name="header">
                        <p:graphicImage name="demo/images/car/1.gif"/>
                    </f:facet>

                    <h:outputText value="Id:"/>
                    <h:outputText value="#{product.productId}"/>

                    <h:outputText value="Color:"/>
                    <h:outputText value="#{product.name}" style="color:#{car.color}"/>

                    <h:outputText value="Price"/>
                    <h:outputText value="$#{product.price}"/>

                    <f:facet name="footer">
                        <p:commandButton update="cartItems" action="#{itemList.addToCart()}" value="Add To Cart"
                                         icon="pi pi-search" rendered='#{login.isLogin()}'>
                            <f:setPropertyActionListener value="#{product}" target="#{itemList.selectedItem}"/>
                        </p:commandButton>
                    </f:facet>
                </p:panelGrid>

                <f:facet name="footer">
                    In total there are #{itemList.loadData().size()} products.
                </f:facet>
            </p:carousel>
        </h:form>
    </ui:define>
</ui:composition>
</html>